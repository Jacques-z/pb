## 背景
- 最小可用版本排班系统由服务端与桌面客户端组成
- 优先简单、可验证、可调试
- 默认本机部署，同时保留远程部署可能性
- 客户端需常驻以交付本地提醒

## 目标 / 非目标
- 目标：
  - 通过 HTTP JSON 提供人员与班次增删改查
  - 桌面客户端展示即将到来的班次
  - 班次开始前默认提前 15 分钟的本地提醒
  - 基础令牌鉴权
- 非目标：
  - 复杂排班算法
  - 多用户或基于角色的权限控制
  - 移动端客户端
  - 云端推送通知

## 决策
- 决策：桌面端默认采用 Tauri 作为运行时。
- 决策：客户端使用可配置间隔的轮询同步，优先简单可验证。
- 决策：默认使用嵌入式本地存储以支持本机部署与调试。
- 决策：班次时间使用带时区偏移的 RFC3339。
- 决策：人员结构保持最小（id、person_name_b64）。
- 决策：班次结构保持最小（id、person_id、start_at、end_at）。
- 决策：服务端在人员目录中保存姓名的 Base64 编码，接口输入使用原始姓名。
- 决策：班次响应中返回 person_id 与对应的 person_name_b64，客户端负责解码展示。
- 决策：提醒提前时间固定为 15 分钟，最小可用版本不提供配置项。
- 决策：提醒通过系统本地通知交付，应用在后台保持运行。

## 备选方案
- 服务端事件流或长连接通道（实现成本更高）
- 云端推送通知（范围外）
- 多用户鉴权与角色系统（范围外）

## 风险 / 权衡
- 轮询可能导致数据滞后；通过缩短默认间隔与手动刷新缓解
- 通知权限与交付可靠性随平台而异
- 时区处理与系统时钟漂移可能影响提醒准确性
- 远程连接不稳定会影响更新及时性
- Base64 编码会增加响应体大小

## 迁移计划
- 新系统，无需迁移
